{{- $.Scratch.Add "data" slice -}}
{{- range $set, $_ := $.Site.Data -}}
  {{- range $attr, $attrData := index $.Site.Data $set -}}
    {{- $data := index $.Site.Data $set $attr -}}
    {{- $elem := newScratch -}}
    {{- $elem.Set "set" $set }}
    {{- $elem.Set "attr" $attr }}
    {{- $elem.Set "outputs" slice }}
    {{- range $_, $outputFiles := $attrData.outputs -}}
      {{- range $outputFile := $outputFiles -}}
        {{- $elem.Add "outputs" $outputFile -}}
      {{- end -}}
    {{- end -}}
    {{- $.Scratch.Add "data" $elem.Values -}}
  {{- end -}}
{{- end -}}
{{- $.Scratch.Get "data" | jsonify -}}
